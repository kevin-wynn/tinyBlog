document.addEventListener("DOMContentLoaded",()=>{var e=TB.util.getById("loginButton"),t=TB.util.getById("loginForm");e&&e.addEventListener("click",()=>{const e=TB.util.objectifyForm(t);TB.request.request("POST","/login/userLogin",e).then(e=>{e.success&&(window.location="../admin")}).catch(e=>{console.log("error:",e)})})}),document.addEventListener("DOMContentLoaded",()=>{var e=TB.util.getById("saveNewSetupButton"),t=TB.util.getById("newSetupForm");e&&e.addEventListener("click",()=>{console.log(t);const e=TB.util.objectifyForm(t);console.log(e),TB.request.request("POST","/newSetup",e).then(e=>{console.log(e)}).catch(e=>{console.log("error:",e)})})}),document.addEventListener("DOMContentLoaded",()=>{const e=TB.util.getById("newPostButton"),t=TB.util.getById("newPostForm"),o=TB.util.getById("savePostButton");TB.util.getById("newPostSuccess");e&&e.addEventListener("click",()=>{t.classList.contains("hidden")?TB.util.changeButtonTextAndColor(e,"Cancel Adding Post","#D35400"):TB.util.changeButtonTextAndColor(e,"Add New Post","#3498DB"),TB.util.toggleVisibility(t)}),o&&o.addEventListener("click",()=>{const e=TB.util.objectifyForm(t);TB.request.request("POST","/posts/createPost",e).then(e=>{console.log("resp",e)}).catch(e=>{console.log("err",e)})})}),document.addEventListener("DOMContentLoaded",()=>{TB.util.getById("newUserForm");var e=TB.util.getById("saveUserButton");e&&e.addEventListener("click",()=>{const e=TB.util.objectifyForm(newUserForm);e.active=!0,TB.request.request("POST","/admin/user/createUser",e).then(e=>{console.log("response from creating user, probably want to put a success message somewhere")}).catch(e=>{console.log("error:",e)})});var t=TB.util.getById("editUserForm"),o=TB.util.getById("saveEditUserButton");o&&o.addEventListener("click",()=>{const e=TB.util.objectifyForm(t);console.log(e),TB.request.request("PUT","/admin/user/updateUser",e).then(e=>{location.pathname="/admin/users"}).catch(e=>{console.log("error:",e)})})});